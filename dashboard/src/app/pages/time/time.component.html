<header>
    <div class="row">
        <div class="col-md-12">
            <div class="user-identification">
                <div class="user-personal-content">
                    <div class="photo">
                        <img src="{{'https://github.com/' + currentColaborador.github + '.png'}}" alt="foto do colaborador">
                    </div>
                    <div class="personal-data">
                        <span class="name">{{currentColaborador.nome}} -
                            <span *ngFor="let time of time; let isFirst = first" >
                                {{ isFirst ? '' : ', ' }} {{time.nomeTime}}
                            </span>
                        </span>
                        <span class="occupation">
                            <span *ngFor="let habilidade of duasHabilidadesByColaborador; let isFirst = first">{{ isFirst ? '' : ' - ' }} {{habilidade.habilidade.nome}}</span>
                        </span>
                    </div>
                </div>
                <div class="filter-dev-data">
                    <!-- <div ngbDropdown>
                        <button type="button" class="dropdown-dev-toggle" id="dropdownMaturidades" ngbDropdownToggle>
                            {{ currentMetasColaborador ? ('Medição das Metas - ' + (formattedDate | date: 'dd/MM/yyyy')) : 'Selecione'}}
                        </button>
                        <div ngbDropdownMenu aria-labelledby="dropdownMaturidades">
                            <button ngbDropdownItem *ngFor="let metasCData of allLatestMetaByColaboradorId" (click)="selecionarMetaColaborador(metasCData.id,  metasCData.data)">
                                Medição das Metas - {{metasCData.data | date: 'dd/MM/yyyy'}}
                            </button>
                        </div>
                    </div> -->
                    <div class="pr-count-selector">
                        <div ngbDropdown>
                            <button type="button" class="dropdown-pr-toggle" id="dropdownPr" ngbDropdownToggle>
                                {{selectedTimePr}}
                            </button>
                            <div ngbDropdownMenu aria-labelledby="dropdownPr">
                                <button ngbDropdownItem (click)="updatePrCountToTotal()">
                                    Todos
                                </button>
                                <button ngbDropdownItem (click)="updatePrCountToLastYear()">
                                    Ano anterior
                                </button>
                                <button ngbDropdownItem (click)="updatePrCountToThisYear()">
                                    Este ano
                                </button>
                                <button ngbDropdownItem (click)="updatePrCountToLast7Days()">
                                    7 d
                                </button>
                                <button ngbDropdownItem (click)="updatePrCountToLast30Days()">
                                    30 d
                                </button>
                                <button ngbDropdownItem (click)="updatePrCountToLast90Days()">
                                    90 d
                                </button>
                                <button ngbDropdownItem (click)="open(content)">
                                    Data personalizada
                                </button>
                                <ng-template #content let-c="close" let-d="dismiss">
                                    <div class="modal-header modal-prs-header">
                                        <h4 class="modal-title">
                                            Selecione as datas
                                        </h4>
                                        <button type="button" class="close button-modal" aria-label="Close" (click)="d('Cross click')">
                                            <span aria-hidden="true">X</span>
                                        </button>
                                    </div>
                                    <div class="modal-body modal-prs-body">
                                        <div class="campo-data campo-1">
                                            <label for="data-inicio">Data Inicial</label>
                                            <input type="date" [(ngModel)]="dataInicio">
                                        </div>
                                        <div class="campo-data">
                                            <label for="data-fim">Data Final</label>
                                            <input type="date" [(ngModel)]="dataFim">
                                        </div>
                                    </div>
                                    <div class="modal-footer modal-prs-footer">
                                        <button class="button-modal" type="button" (click)="updateDates()">
                                            Ok
                                        </button>
                                    </div>
                                </ng-template>
                            </div> 
                        </div> 
                    </div>
                </div>
                <div class="search">
                    <div class="filters-display">
                        <div class="filter">
                          <div ngbDropdown>
                            <button type="button" id="dropdownEmpresa" ngbDropdownToggle>
                              {{ currentTimes.nomeTime ? currentTimes.nomeTime : 'Todos'}}
                            </button>
                            <div ngbDropdownMenu aria-labelledby="dropdownBasic1" >
                              <button ngbDropdownItem (click)="getAllTimesAndDevs();">
                                Todos
                              </button>
                              <button ngbDropdownItem *ngFor="let time of time"
                              (click)="selecionarTime(time.id)">
                                {{time.nomeTime}}
                              </button>
                            </div>
                          </div>
                        </div>
                        <div class="filter">
                          <div ngbDropdown>
                            <button type="button" id="dropdownBasic1" ngbDropdownToggle >
                              {{ currentColaborador.nome ? currentColaborador.nome : 'Devs'}}
                            </button>
                            <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
                              <button ngbDropdownItem *ngFor="let colaborador of colaboradores"
                              (click)="selecionarColaborador(colaborador.id)">
                                <a *ngIf="colaborador.id" [routerLinkActive]="['active']"
                                  [routerLinkActiveOptions]="{exact:true}">{{colaborador.nome}}</a>
                              </button>
                            </div>
                          </div>
                        </div>
                    </div>
                    <app-search-bar (TextoPesquisa)="handleSearch($event)"></app-search-bar>
                </div>
            </div>
        </div>
    </div>
  </header>
  <main>
    <app-sidebar-menu></app-sidebar-menu>
    <div class="dev-dashboard">
    <div class="row">
    </div>
    <div class="row">
        <div class="col-md-4">
            <div class="cards-container">
                <div class="dev-card">
                    <h2>
                        Tarefas Concluídas
                        <span>(jira)</span>
                    </h2>
                    <p>
                        <b>
                            <!-- {{currentTasksCountJira.counttasks}} -->
                            <ng-container *ngIf="currentColaborador.nome === 'Mavis Martins'">
                                25
                             </ng-container>
                             <ng-container *ngIf="currentColaborador.nome === 'Monaliza Loren'">
                                7
                            </ng-container>
                            <ng-container *ngIf="currentColaborador.nome === 'Tiago Santos'">
                                18
                            </ng-container>
                        </b>
                    </p>
                </div>
                <div class="dev-card">
                    <h2>
                        Pontos
                        <span>(jira)</span>
                    </h2>
                    <p>
                        <b>
                            <!-- {{currentTasksCountJira.counttasks * 3}} -->
                            <ng-container *ngIf="currentColaborador.nome === 'Mavis Martins'">
                                85
                             </ng-container>
                             <ng-container *ngIf="currentColaborador.nome === 'Monaliza Loren'">
                                20
                            </ng-container>
                            <ng-container *ngIf="currentColaborador.nome === 'Tiago Santos'">
                                65
                            </ng-container>
                        </b>
                    </p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="cards-container">
                <div class="dev-card">
                    <h2>
                        Pull Requests
                        <span>(git)</span>
                    </h2>
                    <p>
                        <b>
                            <!-- {{currentVcsPullRequest.countpr}} -->
                             <ng-container *ngIf="currentColaborador.nome === 'Mavis Martins'">
                                7
                             </ng-container>
                             <ng-container *ngIf="currentColaborador.nome === 'Monaliza Loren'">
                                1
                            </ng-container>
                            <ng-container *ngIf="currentColaborador.nome === 'Tiago Santos'">
                                6
                            </ng-container>
                        </b>
                    </p>
                </div>
                <div class="dev-card">
                    <h2>
                        Commits
                        <span>(git)</span>
                    </h2>
                    <p>
                        <b>
                            <ng-container *ngIf="currentColaborador.nome === 'Mavis Martins'">
                                30
                             </ng-container>
                             <ng-container *ngIf="currentColaborador.nome === 'Monaliza Loren'">
                                10
                            </ng-container>
                            <ng-container *ngIf="currentColaborador.nome === 'Tiago Santos'">
                                12
                            </ng-container>
                        </b>
                    </p>
                </div>
            </div>
        </div>
        <div class="col-md-4">
            <div class="cards-container">
                <div class="dev-card">
                    <h2>
                        Bugs/Defects
                        <span>(jira)</span>
                    </h2>
                    <p>
                        <b>
                            <ng-container *ngIf="currentColaborador.nome === 'Mavis Martins'">
                                12
                             </ng-container>
                             <ng-container *ngIf="currentColaborador.nome === 'Monaliza Loren'">
                                3
                            </ng-container>
                            <ng-container *ngIf="currentColaborador.nome === 'Tiago Santos'">
                                5
                            </ng-container>
                        </b>
                    </p>
                </div>
                <div class="dev-card">
                    <h2>
                        Número de Esteiras
                    </h2>
                    <p>
                        <b>
                            <ng-container *ngIf="currentColaborador.nome === 'Mavis Martins'">
                                1
                             </ng-container>
                             <ng-container *ngIf="currentColaborador.nome === 'Monaliza Loren'">
                                1
                            </ng-container>
                            <ng-container *ngIf="currentColaborador.nome === 'Tiago Santos'">
                                1
                            </ng-container>
                        </b>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <!-- <section class="graphic">
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-12">
                    <div class="image">
                        <img src="./assets/images/grafico.png" alt="gráfico" class="img-fluid">
                    </div>
                </div>
            </div>
        </div>
    </section> -->
    </div>
    <!-- <div class="dev-filter-container">
        <div class="pr-count-selector">
            <div ngbDropdown>
                <button type="button" class="dropdown-pr-toggle" id="dropdownPr" ngbDropdownToggle>
                    {{selectedTimePr}}
                </button>
                <div ngbDropdownMenu aria-labelledby="dropdownPr">
                    <button ngbDropdownItem (click)="updatePrCountToTotal()">
                        Todos
                    </button>
                    <button ngbDropdownItem (click)="updatePrCountToLastYear()">
                        Ano anterior
                    </button>
                    <button ngbDropdownItem (click)="updatePrCountToThisYear()">
                        Este ano
                    </button>
                    <button ngbDropdownItem (click)="updatePrCountToLast7Days()">
                        7 d
                    </button>
                    <button ngbDropdownItem (click)="updatePrCountToLast30Days()">
                        30 d
                    </button>
                    <button ngbDropdownItem (click)="updatePrCountToLast90Days()">
                        90 d
                    </button>
                    <button ngbDropdownItem (click)="open(content)">
                        Data personalizada
                    </button>
                    <ng-template #content let-c="close" let-d="dismiss">
                        <div class="modal-header modal-prs-header">
                            <h4 class="modal-title">
                                Selecione as datas
                            </h4>
                            <button type="button" class="close button-modal" aria-label="Close" (click)="d('Cross click')">
                                <span aria-hidden="true">X</span>
                            </button>
                        </div>
                        <div class="modal-body modal-prs-body">
                            <div class="campo-data campo-1">
                                <label for="data-inicio">Data Inicial</label>
                                <input type="date" [(ngModel)]="dataInicio">
                            </div>
                            <div class="campo-data">
                                <label for="data-fim">Data Final</label>
                                <input type="date" [(ngModel)]="dataFim">
                            </div>
                        </div>
                        <div class="modal-footer modal-prs-footer">
                            <button class="button-modal" type="button" (click)="updateDates()">
                                Ok
                            </button>
                        </div>
                    </ng-template>
                </div> 
            </div> 
        </div>
    </div> -->
</main>  